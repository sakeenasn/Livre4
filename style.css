/* === VARIABLES === */
:root {
    --bg-radial-center: #8e5e48;
    --bg-radial-edge: #2c1810;
    --gold: #f5deb3;
    --page-color: #f5deb3;
    --book-color: #5d2e22;
    --text-color: #f5deb3;
}

/* === GLOBAL === */
body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #000;
    font-family: "Georgia", serif;
    overflow: hidden;
}

/* === BOUTON MAGIE (CENTRÉ EN HAUT) === */
#magicBtn {
    position: absolute;
    top: 25px;
    left: 50%;
    transform: translateX(-50%);
    padding: 14px 32px;
    font-size: 1.2em;
    background: rgba(255,255,255,0.1);
    border: 2px solid gold;
    color: gold;
    border-radius: 40px;
    backdrop-filter: blur(4px);
    cursor: pointer;
    transition: 0.4s;
}
#magicBtn:hover {
    transform: translateX(-50%) scale(1.1);
    background: gold;
    color: black;
}

/* === LIVRE === */
.book-container {
    width: 320px;
    height: 450px;
    transform-style: preserve-3d;
    cursor: pointer;
    transition: transform 1.2s cubic-bezier(0.25,1,0.5,1);
}
.book-container.open { transform: translateX(160px); }

.book { width: 100%; height: 100%; position: relative; transform-style: preserve-3d; }

/* === PAGES === */
.page {
    position: absolute;
    width: 100%; height: 100%;
    top: 0; left: 0;
    background: var(--page-color);
    border-radius: 4px 10px 10px 4px;
    transform-origin: left;
    transition: transform 1.7s ease;
}
.front-cover  { background: var(--book-color); border: 5px solid gold; z-index: 20; }
.back-cover   { background: var(--book-color); z-index: 0; transform: translateZ(-30px); }
.p1 { z-index: 15; } .p2 { z-index: 14; } .p3 { z-index: 13; }

/* === ANIMATION OUVERTURE === */
.book-container.open .front-cover { transform: rotateY(-180deg); }
.book-container.open .p1 { transform: rotateY(-170deg); }
.book-container.open .p2 { transform: rotateY(-160deg); }
.book-container.open .p3 { transform: rotateY(-10deg); }

/* === PARTICULES === */
.particle {
    position: absolute;
    border-radius: 50%;
    pointer-events: none;
    mix-blend-mode: screen;
    z-index: 999999;
    animation: rise 3s linear forwards;
}
@keyframes rise {
    0%   { transform: translateY(0) scale(.5); opacity: 1; }
    100% { transform: translateY(-300px) scale(1.4); opacity: 0; }
}

/* === FAISCEAU MAGIQUE (180°) === */
.magic-beam {
    position: absolute;
    width: 0;
    height: 0;
    border-left: 260px solid transparent;
    border-right: 260px solid transparent;
    border-bottom: 460px solid rgba(255,255,220,0.9);
    filter: blur(22px) brightness(2.3);
    opacity: 0;
    transform-origin: bottom center;
    animation: beamExpand 2.6s ease-out forwards;
    z-index: 99999;
}

@keyframes beamExpand {
    0%   { opacity:1; transform:scaleY(.1) scaleX(.2); }
    70%  { opacity:1; transform:scaleY(1.5) scaleX(1.1);}
    100% { opacity:0; transform:scaleY(2.6) scaleX(1.7);}
}
